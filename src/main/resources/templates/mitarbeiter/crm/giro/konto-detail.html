<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org"

      layout:decorate="~{mainlayout.html}">

    <title>GiroKontoDetail Page</title>
</head>

<body>
<div layout:fragment="content">
    <main>
        <div class="container-fluid px-0">
            <h1> KontoDetail - GiroKonto </h1>
            <div th:if="${zahlungsAuftragGespeichert}">
                <div class="alert alert-info ">
                    Der Zahlungsauftrag wurde gespeichert.
                </div>
            </div>
            <div class="row justify-content-md-center">
                <div class="col-10 pt-4">



                    <div class="accordion" id="accordionKonto"  >
                        <div class="card">
                            <div class="card-header" id="headingKonto" >
                                <div class="row">
                                    <div class="col-3 pl-0">
                                        <h2 class="mb-0">
                                            <div class="btn-group dropdown">
                                                <button class="btn btn-outline-dark text-left float-left" data-target="#collapseKonto" aria-controls="collapseKonto" type="button" data-toggle="collapse" aria-expanded="true">
                                                    Buchungen einsehen.
                                                </button>
                                                <button type="button" class="btn btn-outline-dark dropdown-toggle dropdown-toggle-split" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                </button>
                                                <div class="dropdown-menu">
                                                    <a class="dropdown-item" href="#">Buchung Anlegen</a>
                                                    <div role="separator" class="dropdown-divider"></div>
                                                    <a class="dropdown-item" href="#">Separated Action</a>
                                                </div>
                                            </div>
                                        </h2>
                                    </div>
                                    <div class="col-6">
                                        <div class="text-right text-secondary mp-0 small" th:text="'Inhaber: ' + ${kunde.nachname} + ', ' + ${kunde.vorname}"> Inhaber:</div>
                                        <div class="text-right text-secondary mp-0 small"> Mitinhaber: Miranda vera Cruste de la joia Cardinale </div>
                                    </div>
                                    <div class="col">
                                        <div class="text-right text-secondary mp-0 small">
                                            <span th:text="'KontoSaldo: '"></span>
                                            <span th:classappend="${girokonto.aktSaldo > 0 ? 'text-success' : 'text-danger'}" th:text="${girokonto.aktSaldo} + ' €'"></span>
                                        </div>
                                        <div class="text-right text-secondary mp-0 small" th:text="'KontoTyp: ' + ${girokonto.getClass().getSimpleName()}"> KontoTyp:</div>
                                    </div>
                                </div>
                            </div>
                            <div class="collapse" data-parent="#accordionKonto" id="collapseKonto" aria-labelledby="headingKonto" >
                                <div class="card-body">
                                    <div class="table-responsive">
                                        <div class="table-wrapper">
                                            <div class="table-title">
                                                <div class="row">
                                                    <div class="col-sm-5">
                                                        <h2>Buchungs Übersicht</h2>
                                                    </div>
                                                </div>
                                            </div>



                                                <table class="table table-striped table-hover">
                                                    <thead>
                                                    <tr>
                                                        <th>Datum</th>
                                                        <th>Text</th>
                                                        <th>SOLL</th>
                                                        <th>HABEN</th>
                                                        <th>Saldo</th>
                                                    </tr>
                                                    </thead>
                                                    <tbody>
                                                    <tr th:each="kontobuchung : ${girokonto.kontoBuchungList}">
                                                        <td th:text="${kontobuchung.buchungsDatum}">Datum</td>
                                                        <td th:text="${kontobuchung.buchungsText}">Text</td>
                                                        <td><div th:if="${kontobuchung.buchungsArt == T(at.blo0dy.SpringBank.model.enums.BuchungsArtEnum).SOLL}"><span class="text-danger" th:text="${#numbers.formatDecimal(kontobuchung.buchungsBetrag, 0, 'POINT', 2, 'COMMA')}">Geld</span></div></td>
                                                        <td><div th:if="${kontobuchung.buchungsArt == T(at.blo0dy.SpringBank.model.enums.BuchungsArtEnum).HABEN}"><span class="text-success" th:text="${#numbers.formatDecimal(kontobuchung.buchungsBetrag, 0, 'POINT', 2, 'COMMA')}">AuchGeld</span></div></td>
                                                        <td th:text="${#numbers.formatDecimal(kontobuchung.saldoNachBuchung, 1, 'POINT', 2, 'COMMA')}"></td>
                                                    </tr>
                                                    </tbody>
                                                </table>
                                                <hr class="my-1">
                            <!--                    <div class="row mt-3 justify-content-around align-items-center">
                                                    <a th:href="@{/mitarbeiter/kunde/sparen/konto}"
                                                       class = "btn btn-success" >
                                                        Zurück
                                                    </a>
                                                    <a th:href="@{/mitarbeiter/kunde/sparen/showEinzahlungsFormWithKonto(sparKontoId=${sparkonto.id})}"
                                                       class = "btn btn-info" >
                                                        Neue Einzahlung
                                                    </a>
                                                    <a th:href="@{/mitarbeiter/kunde/sparen/showAuszahlungsFormWithKonto(sparKontoId=${sparkonto.id})}"
                                                       class = "btn btn-info" >
                                                        Neue Auszahlung
                                                    </a>
                                                </div>-->
                                            </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>



                <div class="col-10 pt-4">


                    <div class="accordion" id="accordionZahlungsAuftrag"  >
                    <div class="card">
                        <div class="card-header" id="headingZahlungsAuftrag" >
                            <div class="row">
                                <div class="col-3 pl-0">
                                    <h2 class="mb-0">
                                        <div class="btn-group dropdown">
                                        <button class="btn btn-outline-dark text-left float-left" data-target="#collapseZahlungsAuftrag", aria-controls="collapseZahlungsAuftrag" type="button" data-toggle="collapse" aria-expanded="true">
                                            ZahlungsAufträge einsehen.
                                        </button>
                                            <button type="button" class="btn btn-outline-dark dropdown-toggle dropdown-toggle-split" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></button>
                                            <div class="dropdown-menu">
                                                <a class="dropdown-item" th:href="@{/mitarbeiter/kunde/giro/konto/showEinzahlungsForm(giroKontoId=${girokonto.id})}">Neue Einzahlung</a>
                                                <a class="dropdown-item" th:href="@{/mitarbeiter/kunde/giro/konto/showAuszahlungsForm(giroKontoId=${girokonto.id})}">Neue Auszahlung</a>
                                                <div role="separator" class="dropdown-divider"></div>
                                                <a class="dropdown-item" href="#">Separated Action</a>
                                            </div>
                                        </div>
                                    </h2>
                                </div>
                                <div class="col-6">
                                    <div class="text-right text-secondary mp-0 small" th:text="'Inhaber: ' + ${kunde.nachname} + ', ' + ${kunde.vorname}"> Inhaber:</div>
                                    <div class="text-right text-secondary mp-0 small"> Mitinhaber: Miranda vera Cruste de la joia Cardinale </div>
                                </div>
                                <div class="col">
                                    <div class="text-right text-secondary mp-0 small" th:text="${'Offene Aufträge: ' + countOffeneZA}"></div>
                                </div>
                            </div>
                        </div>

                        <div class="collapse" data-parent="#accordionZahlungsAuftrag" id="collapseZahlungsAuftrag" aria-labelledby="headingZahlungsAuftrag" >
                            <div class="card-body">
                                <div class="table-responsive">
                                    <div class="table-wrapper">
                                        <div class="table-title">
                                            <div class="row">
                                                <div class="col-sm-5">
                                                    <h2>ZahlungsAuftrags Übersicht</h2>
                                                </div>
                                            </div>
                                        </div>

                                        <table class="table table-striped table-hover">
                                            <thead>
                                            <tr>
                                                <th>AnlageDatum</th>
                                                <th>AuftragsDatum</th>
                                                <th>AuftragsArt</th>
                                                <th>AuftragsStatus</th>
                                                <th>Betrag</th>
                                                <th>Sender</th>
                                                <th>Empfänger</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr th:each="zahlungsAuftrag : ${girokonto.kontoZahlungsAuftragList}">
                                                <td th:text="${#temporals.format(zahlungsAuftrag.datAnlage, 'dd.MM.yyyy HH:mm:ss')}">Datum</td>
                                                <td th:text="${#temporals.format(zahlungsAuftrag.auftragsDatum, 'dd.MM.yyyy')}">Datum</td>
                                                <td th:text="${zahlungsAuftrag.auftragsArt}">Art</td>
                                                <td th:switch="${zahlungsAuftrag.auftragsStatus}">
                                                    <span th:case="${T(at.blo0dy.SpringBank.model.enums.ZahlungAuftragStatusEnum).ANGELEGT}" class="status text-warning" >&bull;</span>
                                                    <span th:case="${T(at.blo0dy.SpringBank.model.enums.ZahlungAuftragStatusEnum).DURCHGEFUEHRT}" class="status text-success">&bull;</span>
                                                    <span th:case="${T(at.blo0dy.SpringBank.model.enums.ZahlungAuftragStatusEnum).STORNIERT}" class="status text-danger">&bull;</span>
                                                    <span th:text="${zahlungsAuftrag.auftragsStatus}">Status</span>
                                                </td>
                                                <td th:text="${#numbers.formatDecimal(zahlungsAuftrag.betrag, 0, 'POINT', 2, 'COMMA')}" th:classappend="${#strings.equals(zahlungsAuftrag.auftragsArt, 'EINZAHLUNG')} ? 'text-success' : 'text-danger'" >betrag</td>
                                                <td th:text="${zahlungsAuftrag.senderKonto}">Datum</td>
                                                <td th:text="${zahlungsAuftrag.empfaengerKonto}">Art</td>
                                            </tr>
                                            </tbody>
                                        </table>

                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        </div>

    </main>
</div>
</body>
</html>