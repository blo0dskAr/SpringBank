<!DOCTYPE html>
<html xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org"

      layout:decorate="~{mainlayout.html}">

    <title>KreditKontoDetail Page</title>
</head>

<body>
<div layout:fragment="content">
    <main>
        <div class="container-fluid px-0">
            <h1> KontoDetail - KreditKonto </h1>
            <div th:if="${zahlungsAuftragGespeichert}">
                <div class="alert alert-info ">
                    Der Zahlungsauftrag wurde gespeichert.
                </div>
            </div>
            <div th:if="${kontoBuchungDurchgefuehrt}">
                <div class="alert alert-info ">
                    Die KontoBuchung wurde erfolgreich durchgeführt.
                </div>
            </div>
            <div class="row justify-content-md-center">
                <div class="col-10 pt-4">



                    <div class="accordion" id="accordionKonto"  >
                        <div class="card">
                            <div class="card-header" id="headingKonto" >
                                <div class="row">
                                    <div class="col-3 pl-0">
                                        <h2 class="mb-0">
                                            <div class="btn-group dropdown">
                                                <button class="btn btn-outline-dark text-left float-left" data-target="#collapseKonto" aria-controls="collapseKonto" type="button" data-toggle="collapse" aria-expanded="true">
                                                    Buchungen einsehen.
                                                </button>
                                                <button type="button" class="btn btn-outline-dark dropdown-toggle dropdown-toggle-split" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                                                </button>
                                                <div class="dropdown-menu">
                                                    <a class="dropdown-item" th:href="@{/mitarbeiter/kunde/konto/showKontoBuchungForm(kontoId=${kreditkonto.id})}">Buchung Anlegen</a>
                                                    <div role="separator" class="dropdown-divider"></div>
                                                    <a class="dropdown-item" href="#">Separated Action</a>
                                                </div>
                                            </div>
                                        </h2>
                                    </div>
                                    <div class="col-6">
                                        <div class="text-right text-secondary mp-0 small" th:text="'Inhaber: ' + ${kunde.nachname} + ', ' + ${kunde.vorname}"> Inhaber:</div>
                                        <div class="text-right text-secondary mp-0 small"> Mitinhaber: Miranda vera Cruste de la joia Cardinale </div>
                                    </div>
                                    <div class="col">
                                        <div class="text-right text-secondary mp-0 small">
                                            <span th:text="'KontoSaldo: '"></span>
                                            <span th:classappend="${kreditkonto.aktSaldo > 0 ? 'text-success' : 'text-danger'}" th:text="${kreditkonto.aktSaldo} + ' €'"></span>
                                        </div>
                                        <div class="text-right text-secondary mp-0 small" th:text="'KontoTyp: ' + ${kreditkonto.getClass().getSimpleName()}"> KontoTyp:</div>
                                    </div>
                                </div>
                            </div>
                            <div class="collapse" data-parent="#accordionKonto" id="collapseKonto" aria-labelledby="headingKonto" >
                                <div class="card-body">
                                    <div class="table-responsive">
                                        <div class="table-wrapper">
                                            <div class="table-title">
                                                <div class="row">
                                                    <div class="col-sm-5">
                                                        <h2>Buchungs Übersicht</h2>
                                                    </div>
                                                </div>
                                            </div>



                                                <table class="table table-striped table-hover">
                                                    <thead>
                                                    <tr>
                                                        <th>Datum</th>
                                                        <th>Text</th>
                                                        <th>SOLL</th>
                                                        <th>HABEN</th>
                                                        <th>Saldo</th>
                                                    </tr>
                                                    </thead>
                                                    <tbody>
                                                    <tr th:each="kontobuchung : ${kreditkonto.kontoBuchungList}">
                                                        <td th:text="${kontobuchung.buchungsDatum}">Datum</td>
                                                        <td th:text="${kontobuchung.buchungsText}">Text</td>
                                                        <td><div th:if="${kontobuchung.buchungsArt == T(at.blo0dy.SpringBank.model.enums.BuchungsArtEnum).SOLL}"><span class="text-danger" th:text="${#numbers.formatDecimal(kontobuchung.buchungsBetrag, 0, 'POINT', 2, 'COMMA')}">Geld</span></div></td>
                                                        <td><div th:if="${kontobuchung.buchungsArt == T(at.blo0dy.SpringBank.model.enums.BuchungsArtEnum).HABEN}"><span class="text-success" th:text="${#numbers.formatDecimal(kontobuchung.buchungsBetrag, 0, 'POINT', 2, 'COMMA')}">AuchGeld</span></div></td>
                                                        <td th:text="${#numbers.formatDecimal(kontobuchung.saldoNachBuchung, 1, 'POINT', 2, 'COMMA')}"></td>
                                                    </tr>
                                                    </tbody>
                                                </table>
                                                <hr class="my-1">
                                            </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>



                <div class="col-10 pt-4">
                    <div class="accordion" id="accordionZahlungsAuftrag"  >
                        <div class="card">
                            <div class="card-header" id="headingZahlungsAuftrag" >
                                <div class="row">
                                    <div class="col-3 pl-0">
                                        <h2 class="mb-0">
                                            <div class="btn-group dropdown">
                                            <button class="btn btn-outline-dark text-left float-left" data-target="#collapseZahlungsAuftrag" aria-controls="collapseZahlungsAuftrag" type="button" data-toggle="collapse" aria-expanded="true">
                                                ZahlungsAufträge einsehen.
                                            </button>
                                                <button type="button" class="btn btn-outline-dark dropdown-toggle dropdown-toggle-split" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></button>
                                                <div class="dropdown-menu">
                                                    <a class="dropdown-item" th:href="@{/mitarbeiter/kunde/kredit/konto/showEinzahlungsForm(kreditKontoId=${kreditkonto.id})}">Neue Einzahlung</a>
                                                    <div role="separator" class="dropdown-divider"></div>
                                                    <a class="dropdown-item" href="#">Separated Action</a>
                                                </div>
                                            </div>
                                        </h2>
                                    </div>
                                    <div class="col-6">
                                        <div class="text-right text-secondary mp-0 small" th:text="'Inhaber: ' + ${kunde.nachname} + ', ' + ${kunde.vorname}"> Inhaber:</div>
                                        <div class="text-right text-secondary mp-0 small"> Mitinhaber: Miranda vera Cruste de la joia Cardinale </div>
                                    </div>
                                    <div class="col">
                                        <div class="text-right text-secondary mp-0 small" th:text="${'Offene Aufträge: ' + countOffeneZA}"></div>
                                    </div>
                                </div>
                            </div>

                            <div class="collapse" data-parent="#accordionZahlungsAuftrag" id="collapseZahlungsAuftrag" aria-labelledby="headingZahlungsAuftrag" >
                                <div class="card-body">
                                    <div class="table-responsive">
                                        <div class="table-wrapper">
                                            <div class="table-title">
                                                <div class="row">
                                                    <div class="col-sm-5">
                                                        <h2>ZahlungsAuftrags Übersicht</h2>
                                                    </div>
                                                </div>
                                            </div>

                                            <table class="table table-striped table-hover">
                                                <thead>
                                                <tr>
                                                    <th>AnlageDatum</th>
                                                    <th>AuftragsDatum</th>
                                                    <th>AuftragsArt</th>
                                                    <th>AuftragsStatus</th>
                                                    <th>Betrag</th>
                                                    <th>Sender</th>
                                                    <th>Empfänger</th>
                                                </tr>
                                                </thead>
                                                <tbody>
                                                <tr th:each="zahlungsAuftrag : ${kreditkonto.kontoZahlungsAuftragList}">
                                                    <td th:text="${#temporals.format(zahlungsAuftrag.datAnlage, 'dd.MM.yyyy HH:mm:ss')}">Datum</td>
                                                    <td th:text="${#temporals.format(zahlungsAuftrag.auftragsDatum, 'dd.MM.yyyy')}">Datum</td>
                                                    <td th:text="${zahlungsAuftrag.auftragsArt}">Art</td>
                                                    <td th:switch="${zahlungsAuftrag.auftragsStatus}">
                                                        <span th:case="${T(at.blo0dy.SpringBank.model.enums.ZahlungAuftragStatusEnum).ANGELEGT}" class="status text-warning" >&bull;</span>
                                                        <span th:case="${T(at.blo0dy.SpringBank.model.enums.ZahlungAuftragStatusEnum).DURCHGEFUEHRT}" class="status text-success">&bull;</span>
                                                        <span th:case="${T(at.blo0dy.SpringBank.model.enums.ZahlungAuftragStatusEnum).STORNIERT}" class="status text-danger">&bull;</span>
                                                        <span th:text="${zahlungsAuftrag.auftragsStatus}">Status</span>
                                                    </td>
                                                    <td th:text="${#numbers.formatDecimal(zahlungsAuftrag.betrag, 0, 'POINT', 2, 'COMMA')}" th:classappend="${#strings.equals(zahlungsAuftrag.auftragsArt, 'EINZAHLUNG')} ? 'text-success' : 'text-danger'" >betrag</td>
                                                    <td th:text="${zahlungsAuftrag.senderKonto}">Datum</td>
                                                    <td th:text="${zahlungsAuftrag.empfaengerKonto}">Art</td>
                                                </tr>
                                                </tbody>
                                            </table>

                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>




                <div class="col-10 pt-4">
                    <div class="accordion" id="accordionDauerAuftrag"  >
                        <div class="card">
                            <div class="card-header" id="headingDauerAuftrag" >
                                <div class="row">
                                    <div class="col-3 pl-0">
                                        <h2 class="mb-0">
                                            <div class="btn-group dropdown">
                                                <button class="btn btn-outline-dark text-left float-left" data-target="#collapseDauerAuftrag", aria-controls="collapseDauerAuftrag" type="button" data-toggle="collapse" aria-expanded="true">
                                                    Daueraufträge einsehen
                                                </button>
                                                <button type="button" class="btn btn-outline-dark dropdown-toggle dropdown-toggle-split" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"></button>
                                                <div class="dropdown-menu">
                                                    <a class="dropdown-item" th:href="@{/mitarbeiter/kunde/kredit/konto/showDauerAuftragsForm(kreditKontoId=${kreditkonto.id})}">Neuer Dauerauftrag</a>
                                                    <div role="separator" class="dropdown-divider"></div>
                                                    <a class="dropdown-item" href="#">Separated Action</a>
                                                </div>
                                            </div>
                                        </h2>
                                    </div>
                                    <div class="col-6">
                                        <div class="text-right text-secondary mp-0 small" th:text="'Inhaber: ' + ${kunde.nachname} + ', ' + ${kunde.vorname}"> Inhaber:</div>
                                        <div class="text-right text-secondary mp-0 small"> Mitinhaber: Miranda vera Cruste de la joia Cardinale </div>
                                    </div>
                                    <div class="col">
                                        <div class="text-right text-secondary mp-0 small" th:text="${'Offene Aufträge: ' + countOffeneZA}"></div>
                                    </div>
                                </div>
                            </div>

                            <div class="collapse" data-parent="#accordionDauerAuftrag" id="collapseDauerAuftrag" aria-labelledby="headingDauerAuftrag" >
                                <div class="card-body">
                                    <div class="table-responsive">
                                        <div class="table-wrapper">
                                            <div class="table-title">
                                                <div class="row">
                                                    <div class="col-sm-5">
                                                        <h2>DauerAuftrags Übersicht</h2>
                                                    </div>
                                                </div>
                                            </div>

                                            <table class="table table-striped table-hover">
                                                <thead>
                                                <tr>
                                                    <th>AnlageDatum</th>
                                                    <th>Durchführen am</th>
                                                    <th>AuftragsArt</th>
                                                    <th>AuftragsStatus</th>
                                                    <th>Betrag</th>
                                                </tr>
                                                </thead>
                                                <tbody>
                                                <tr th:each="dauerAuftrag : ${kreditkonto.dauerAuftragList}">
                                                    <td th:text="${#temporals.format(dauerAuftrag.datAnlage, 'dd.MM.yyyy HH:mm:ss')}">Datum</td>
                                                    <td th:text="${#temporals.format(dauerAuftrag.tagImMonat, 'dd.') + 'des Monats'}">TagImMonat</td>
                                                    <td th:text="${dauerAuftrag.auftragsArt}">Art</td>
                                                    <td th:switch="${dauerAuftrag.auftragsStatus}">
                                                        <span th:case="${T(at.blo0dy.SpringBank.model.enums.DauerAuftragStatusEnum).ANGELEGT}" class="status text-success" >&bull;</span>
                                                        <span th:case="${T(at.blo0dy.SpringBank.model.enums.DauerAuftragStatusEnum).STORNIERT}" class="status text-danger">&bull;</span>
                                                        <span th:text="${dauerAuftrag.auftragsStatus}">Status</span>
                                                    </td>
                                                    <td th:text="${#numbers.formatDecimal(dauerAuftrag.betrag, 0, 'POINT', 2, 'COMMA')}" th:classappend="${#strings.equals(zahlungsAuftrag.auftragsArt, 'EINZAHLUNG')} ? 'text-success' : 'text-danger'" >betrag</td>
                                                </tr>
                                                </tbody>
                                            </table>
                                            <div th:if="${#lists.isEmpty(kreditkonto.dauerAuftragList)}" class="mb-3 pl-4">Derzeit keine offenen Daueraufträge gespeichert!</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>




            </div>
        </div>

    </main>
</div>
</body>
</html>